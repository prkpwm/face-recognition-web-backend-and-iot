{"ast":null,"code":"var _jsxFileName = \"/home/recognition/Desktop/face-recognition-web-backend-and-iot/frontend/src/components/Setting/Report.jsx\";\nimport React from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nimport { Switch, message } from 'antd';\nimport { getDailyReport, setSms, setEmail } from \"../../services/APIs/Setting\";\nimport { RotateSpinner } from \"react-spinners-kit\";\nimport 'antd/dist/antd.css';\nimport './report.scss';\nimport { GetLanguage } from \"../../services/APIs/Setting\";\nlibrary.add(fas);\nlet word = {\n  'Done': {\n    'EN': 'Done',\n    'TH': 'เสร็จแล้ว'\n  },\n  'Please try again.': {\n    'EN': 'Please try again.',\n    'TH': 'กรุณาลองอีกครั้ง.'\n  },\n  'Report': {\n    'EN': 'Done',\n    'TH': 'เสร็จแล้ว'\n  },\n  'Daily report': {\n    'EN': 'Daily report',\n    'TH': 'เสร็จแล้ว'\n  },\n  'Group selection': {\n    'EN': 'Group selection',\n    'TH': 'เสร็จแล้ว'\n  },\n  'SMS': {\n    'EN': 'SMS',\n    'TH': 'เสร็จแล้ว'\n  },\n  'Email': {\n    'EN': 'Email',\n    'TH': 'เสร็จแล้ว'\n  }\n};\n\nclass Report extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      language: \"TH\",\n      reportdaily: [],\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    getDailyReport() // display\n    .then(_Daily => {\n      if (_Daily.data.status) {\n        setTimeout(() => {\n          this.setState({\n            loading: false\n          });\n        }, 800);\n        this.setState({\n          reportdaily: _Daily.data.msg\n        });\n      }\n    }).catch(_DailyError => {\n      window.location.href = \"/password\";\n    });\n    GetLanguage() // Get language for display\n    .then(_Edit => {\n      if (_Edit.data.status) {\n        setTimeout(() => {\n          this.setState({\n            loading: false\n          });\n        }, 800);\n        this.setState({\n          language: _Edit.data.msg[0].lang\n        });\n      }\n    });\n  }\n\n  onChangeSMS(checked, value) {\n    // setting swtich sms\n    value.smsReport = checked;\n    this.setState({\n      smsReport: checked\n    });\n    var Data = {\n      id: value._id,\n      sms: value.smsReport\n    };\n    setSms(Data).then(_StautsSms => {\n      if (_StautsSms.data.status) {\n        message.success({\n          content: word['Done'][this.state.language],\n          className: 'message-done',\n          style: {\n            marginTop: '2vh'\n          }\n        });\n      } else {\n        message.error({\n          content: word['Please try again.'][this.state.language],\n          className: 'message-alert',\n          style: {\n            marginTop: '2vh'\n          }\n        });\n      }\n    }).catch(_StautsSmsError => console.error(_StautsSmsError));\n  }\n\n  onChangeEmail(checked, value) {\n    // setting switch email\n    value.emailReport = checked;\n    this.setState({\n      emailReport: checked\n    });\n    var Data = {\n      id: value._id,\n      email: value.emailReport\n    };\n    setEmail(Data).then(_StautsEmail => {\n      console.log(_StautsEmail);\n\n      if (_StautsEmail.data.status) {\n        message.success({\n          content: word['Done'][this.state.language],\n          className: 'message-done',\n          style: {\n            marginTop: '2vh'\n          }\n        });\n      } else {\n        message.error({\n          content: word['Please try again.'][this.state.language],\n          className: 'message-alert',\n          style: {\n            marginTop: '2vh'\n          }\n        });\n      }\n    }).catch(_StautsEmailError => console.error(_StautsEmailError));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"size-web\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      style: {\n        visibility: this.state.loading ? \"visible\" : \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(RotateSpinner, {\n      size: 150,\n      loading: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cov-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hmenu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icon-back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/setting\",\n      className: \"link-back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: ['fas', 'less-than'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 74\n      }\n    }))), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"hd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 29\n      }\n    }, \"Report\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hd-report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"type-report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 29\n      }\n    }, \"Daily report\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"setgroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"must-do\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"txt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, \"Group selection\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-list-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bs-example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"accordion\",\n      id: \"accordionExample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 37\n      }\n    }, this.state.reportdaily ? this.state.reportdaily.map((value, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        key: value._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 52\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header\",\n        id: \"heading\" + index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-link btn-toggle\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \"#collapse\" + index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"name-status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"names\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 65\n        }\n      }, value.groupName ? value.groupName : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"img-status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"covimg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sms-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 69\n        }\n      }, value.smsReport ? /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/image/icon/Ysms.svg\",\n        alt: \"\",\n        className: \"img-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 92\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/image/icon/Nsms.svg\",\n        alt: \"\",\n        className: \"img-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 158\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"email-img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 69\n        }\n      }, value.emailReport ? /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/image/icon/Yemail.svg\",\n        alt: \"\",\n        className: \"img-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 94\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: \"/image/icon/Nemail.svg\",\n        alt: \"\",\n        className: \"img-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 162\n        }\n      }))))))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"collapse\" + index,\n        className: \"collapse\",\n        \"aria-labelledby\": \"heading\" + index,\n        \"data-parent\": \"#accordionExample\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cov-setting\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cov-tasms\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"txt-sms\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 69\n        }\n      }, \"SMS\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"switchset\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"switcho\",\n        checked: value.smsReport,\n        onChange: e => {\n          // value.smsReport = e\n          // this.setState({\n          //     smsReport: e\n          // })\n          this.onChangeSMS(e, value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 69\n        }\n      }))), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"green\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 61\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cov-tasms\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"txt-sms\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 69\n        }\n      }, \"Email\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"switchset\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"switcho\",\n        checked: value.emailReport,\n        onChange: e => {\n          this.onChangeEmail(e, value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 69\n        }\n      })))))));\n    }) : null)))))));\n  }\n\n}\n\nexport default Report;","map":{"version":3,"sources":["/home/recognition/Desktop/face-recognition-web-backend-and-iot/frontend/src/components/Setting/Report.jsx"],"names":["React","FontAwesomeIcon","library","fas","far","Switch","message","getDailyReport","setSms","setEmail","RotateSpinner","GetLanguage","add","word","Report","Component","constructor","props","state","language","reportdaily","loading","componentDidMount","setState","then","_Daily","data","status","setTimeout","msg","catch","_DailyError","window","location","href","_Edit","lang","onChangeSMS","checked","value","smsReport","Data","id","_id","sms","_StautsSms","success","content","className","style","marginTop","error","_StautsSmsError","console","onChangeEmail","emailReport","email","_StautsEmail","log","_StautsEmailError","render","visibility","map","index","groupName","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nimport { Switch, message } from 'antd';\nimport { getDailyReport, setSms, setEmail } from \"../../services/APIs/Setting\";\nimport { RotateSpinner } from \"react-spinners-kit\";\nimport 'antd/dist/antd.css';\nimport './report.scss'\nimport { GetLanguage } from \"../../services/APIs/Setting\";\n\nlibrary.add(fas)\n\nlet word = {\n    'Done': { 'EN': 'Done', 'TH': 'เสร็จแล้ว' },\n    'Please try again.': { 'EN': 'Please try again.', 'TH': 'กรุณาลองอีกครั้ง.' },\n    'Report': { 'EN': 'Done', 'TH': 'เสร็จแล้ว' },\n    'Daily report': { 'EN': 'Daily report', 'TH': 'เสร็จแล้ว' },\n    'Group selection': { 'EN': 'Group selection', 'TH': 'เสร็จแล้ว' },\n    'SMS': { 'EN': 'SMS', 'TH': 'เสร็จแล้ว' },\n    'Email': { 'EN': 'Email', 'TH': 'เสร็จแล้ว' },\n\n}\n\nclass Report extends React.Component {\n\n    constructor(props) {\n\n        super(props)\n        this.state = {\n            language:\"TH\",\n            reportdaily: [],\n            loading: false\n        }\n\n    }\n\n    componentDidMount() {\n        this.setState({\n            loading: true\n        })\n        getDailyReport() // display\n            .then(_Daily => {\n\n                if (_Daily.data.status) {\n\n                    setTimeout(() => {\n                        this.setState({\n                            loading: false\n                        })\n                    }, 800);\n\n\n                    this.setState({\n                        reportdaily: _Daily.data.msg\n                    })\n\n                }\n            })\n\n            .catch(_DailyError => {\n                window.location.href = \"/password\";\n            })\n        GetLanguage() // Get language for display\n            .then(_Edit => {\n\n\n                if (_Edit.data.status) {\n\n                    setTimeout(() => {\n                        this.setState({\n                            loading: false\n                        })\n                    }, 800);\n                    this.setState({\n                        language: _Edit.data.msg[0].lang,\n\n                    })\n\n\n                }\n            })\n\n    }\n\n    onChangeSMS(checked, value) { // setting swtich sms\n        value.smsReport = checked;\n        this.setState({\n            smsReport: checked\n        })\n\n        var Data = {\n            id: value._id,\n            sms: value.smsReport\n        }\n\n        setSms(Data)\n            .then(_StautsSms => {\n                if (_StautsSms.data.status) {\n\n                    message.success({\n                        content: word['Done'][this.state.language],\n                        className: 'message-done',\n                        style: {\n                            marginTop: '2vh',\n                        },\n                    });\n\n                } else {\n                    message.error({\n                        content: word['Please try again.'][this.state.language],\n                        className: 'message-alert',\n                        style: {\n                            marginTop: '2vh',\n                        },\n                    });\n                }\n            })\n\n            .catch(_StautsSmsError => console.error(_StautsSmsError))\n\n\n\n    }\n\n\n    onChangeEmail(checked, value) { // setting switch email\n        value.emailReport = checked\n        this.setState({\n            emailReport: checked\n        })\n\n        var Data = {\n            id: value._id,\n            email: value.emailReport\n        }\n        setEmail(Data)\n            .then(_StautsEmail => {\n                console.log(_StautsEmail);\n                if (_StautsEmail.data.status) {\n\n                    message.success({\n                        content: word['Done'][this.state.language],\n                        className: 'message-done',\n                        style: {\n                            marginTop: '2vh',\n                        },\n                    });\n\n                } else {\n                    message.error({\n                        content: word['Please try again.'][this.state.language],\n                        className: 'message-alert',\n                        style: {\n                            marginTop: '2vh',\n                        },\n                    });\n                }\n            })\n\n            .catch(_StautsEmailError => console.error(_StautsEmailError))\n\n    }\n\n\n    render() {\n\n\n\n\n\n        return (\n            <div>\n                <div className=\"size-web\">\n                    <div className=\"loading\" style={{ visibility: this.state.loading ? \"visible\" : \"hidden\" }}>\n                        <RotateSpinner size={150} loading={this.state.loading} />\n                    </div>\n                    <div className=\"cov-menu\">\n                        <div className=\"hmenu\">\n                            <div className=\"icon-back\">\n                                <a href=\"/setting\" className=\"link-back\"><FontAwesomeIcon icon={['fas', 'less-than']} /></a>\n                            </div>\n                            <h1 className=\"hd\">Report</h1>\n                        </div>\n                        <div className=\"hd-report\">\n                            <p className=\"type-report\">Daily report</p>\n                        </div>\n                        <div className=\"setgroup\">\n                            <div className=\"must-do\">\n                                <p className=\"txt\">Group selection</p>\n                            </div>\n                            <div className=\"box-list-group\">\n                                <div className=\"bs-example\">\n                                    <div className=\"accordion\" id=\"accordionExample\">\n                                        {this.state.reportdaily ? this.state.reportdaily.map((value, index) => {\n\n                                            return <div className=\"card\" key={value._id}>\n                                                <div className=\"card-header\" id={\"heading\" + index}>\n                                                    <button type=\"button\" className=\"btn btn-link btn-toggle\" data-toggle=\"collapse\" data-target={\"#collapse\" + index}>\n                                                        <div className=\"name-status\">\n                                                            <div className=\"names\">\n                                                                <p className=\"txt\">{value.groupName ? value.groupName : \"\"}</p>\n                                                            </div>\n                                                            <div className=\"img-status\">\n                                                                <div className=\"covimg\">\n                                                                    <div className=\"sms-img\">\n                                                                        {value.smsReport ? <img src=\"/image/icon/Ysms.svg\" alt=\"\" className=\"img-fluid\" /> : <img src=\"/image/icon/Nsms.svg\" alt=\"\" className=\"img-fluid\" />}\n                                                                    </div>\n                                                                    <div className=\"email-img\">\n                                                                        {value.emailReport ? <img src=\"/image/icon/Yemail.svg\" alt=\"\" className=\"img-fluid\" /> : <img src=\"/image/icon/Nemail.svg\" alt=\"\" className=\"img-fluid\" />}\n\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </button>\n                                                </div>\n                                                <div id={\"collapse\" + index} className=\"collapse\" aria-labelledby={\"heading\" + index} data-parent=\"#accordionExample\">\n                                                    <div className=\"card-body\">\n                                                        <div className=\"cov-setting\">\n                                                            <div className=\"cov-tasms\">\n                                                                <div className=\"txt-sms\">\n                                                                    <p className=\"txt\">SMS</p>\n                                                                </div>\n                                                                <div className=\"switchset\">\n                                                                    <Switch className=\"switcho\" checked={value.smsReport}\n                                                                        onChange={(e) => {\n                                                                            // value.smsReport = e\n                                                                            // this.setState({\n                                                                            //     smsReport: e\n                                                                            // })\n                                                                            this.onChangeSMS(e, value)\n                                                                        }}\n                                                                    />\n                                                                </div>\n                                                            </div>\n                                                            <hr className=\"green\" />\n                                                            <div className=\"cov-tasms\">\n                                                                <div className=\"txt-sms\">\n                                                                    <p className=\"txt\">Email</p>\n                                                                </div>\n                                                                <div className=\"switchset\">\n                                                                    <Switch className=\"switcho\" checked={value.emailReport} onChange={(e) => { this.onChangeEmail(e, value) }} />\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }) : null}\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n\n    }\n\n\n\n}\n\nexport default Report"]},"metadata":{},"sourceType":"module"}