{"ast":null,"code":"var _jsxFileName = \"/home/recognition/Desktop/face-recognition-web-backend-and-iot/frontend/src/components/Setting/Sound.jsx\";\nimport React from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nimport { Slider, InputNumber, Upload, message, Button, Switch } from 'antd';\nimport 'antd/dist/antd.css';\nimport './sound.scss';\nimport { selectStatusSound, setStatusSound, uploadVoiceFile, uploadVoiceEffect, getVoiceMaster, setVoiceMaster } from \"../../services/APIs/sound\";\nlibrary.add(fas);\n\nclass Sound extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = value => {\n      this.setState({\n        inputValue: value\n      });\n      setVoiceMaster(value).then(_welcomeWord => {\n        if (_welcomeWord.data.status) {\n          message.success({\n            content: 'Done',\n            className: 'message-done',\n            style: {\n              marginTop: '2vh'\n            }\n          });\n        } else {\n          message.error({\n            content: 'Please try again.',\n            className: 'message-alert',\n            style: {\n              marginTop: '2vh'\n            }\n          });\n        }\n      }).catch(_StatusFaceError => console.error(_StatusFaceError));\n    };\n\n    this.handleChange_effect_voice = info => {\n      if (info.file.status === 'uploading') {\n        this.setState({\n          loading: true\n        });\n        return;\n      }\n\n      setTimeout(async () => {\n        const isLt2M = info.file.size / 1024 / 1024 < 2;\n\n        if (isLt2M && (info.file.type === 'audio/mpeg' || info.file.type === 'audio/x-wav')) {\n          info.file.status = 'done';\n        } else {\n          info.file.status = 'error';\n        }\n\n        if (info.file.status === \"done\") {\n          // Get this url from response in real world.\n          console.log('img----', info.file.originFileObj);\n          this.setState({\n            loading: false,\n            soundEffect: info.file.originFileObj\n          });\n          const res = await uploadVoiceEffect({\n            soundEffects: this.state.soundEffect\n          });\n          console.log('res---> ', res);\n\n          if (res.data.status) {\n            message.success({\n              content: 'Done',\n              className: 'message-done',\n              style: {\n                marginTop: '2vh'\n              }\n            });\n          } else {\n            message.error({\n              content: 'Please try again.',\n              className: 'message-alert',\n              style: {\n                marginTop: '2vh'\n              }\n            });\n          }\n        }\n      }, 1000);\n    };\n\n    this.handleChange_voice = info => {\n      if (info.file.status === 'uploading') {\n        this.setState({\n          loading: true\n        });\n        return;\n      }\n\n      setTimeout(async () => {\n        const isLt2M = info.file.size / 1024 / 1024 < 2;\n\n        if (isLt2M && (info.file.type === 'audio/mpeg' || info.file.type === 'audio/x-wav')) {\n          info.file.status = 'done';\n        } else {\n          info.file.status = 'error';\n        }\n\n        if (info.file.status === \"done\") {\n          // Get this url from response in real world.\n          console.log('img----', info.file.originFileObj);\n          this.setState({\n            loading: false,\n            soundFile: info.file.originFileObj\n          });\n          const res = await uploadVoiceFile({\n            soundVoice: this.state.soundFile\n          });\n          console.log('res---> ', res);\n\n          if (res.data.status) {\n            message.success({\n              content: 'Done',\n              className: 'message-done',\n              style: {\n                marginTop: '2vh'\n              }\n            });\n          } else {\n            message.error({\n              content: 'Please try again.',\n              className: 'message-alert',\n              style: {\n                marginTop: '2vh'\n              }\n            });\n          }\n        }\n      }, 1000);\n    };\n\n    this.state = {\n      inputValue: 0,\n      loading: false,\n      loading_page: false,\n      statusSound: true,\n      soundFile: undefined,\n      soundEffect: undefined\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading_page: true\n    }); // get data from mongodb\n\n    selectStatusSound().then(_Sound => {\n      // console.log(\"_Sound.data.msg:\",_Sound.data.msg[0].statusSound)\n      if (_Sound.data.status) {\n        setTimeout(() => {\n          this.setState({\n            loading_page: false\n          });\n        }, 800);\n        this.setState({\n          statusSound: _Sound.data.msg[0].statusSound\n        });\n      }\n    }).catch(_DisplayError => {\n      window.location.href = \"/password\";\n    }); // inputValue\n\n    getVoiceMaster().then(_SoundMaster => {\n      // console.log(\"_SoundMaster.data.msg[0]:\",_SoundMaster.data.msg)\n      // console.log(_SoundMaster.data);\n      if (_SoundMaster.data.status) {\n        setTimeout(() => {\n          this.setState({\n            loading_page: false\n          });\n        }, 800);\n        this.setState({\n          inputValue: _SoundMaster.data.msg\n        });\n      }\n    }).catch(errorVoice => {\n      // console.log(errorVoice[0])\n      window.location.href = \"/password\";\n    }); // print log status sound\n    // console.log(this.state.statusSound)\n  }\n\n  onChangevoice(checked) {\n    // console.log(`switch to ${checked}`);\n    this.setState({\n      statusSound: checked\n    });\n    setStatusSound(checked).then(_statusSound => {\n      if (_statusSound.data.status) {\n        message.success({\n          content: 'Done',\n          className: 'message-done',\n          style: {\n            marginTop: '2vh'\n          }\n        });\n      } else {\n        message.error({\n          content: 'Please try again.',\n          className: 'message-alert',\n          style: {\n            marginTop: '2vh'\n          }\n        });\n      }\n    }).catch(_StatusFaceError => console.error(_StatusFaceError));\n  }\n\n  render() {\n    // console.log(this.state.statusSound)\n    console.log(this.state.inputValue);\n    const {\n      inputValue\n    } = this.state;\n    const props_voice = {\n      name: 'file',\n      headers: {\n        authorization: 'authorization-text'\n      },\n      onChange: this.handleChange_voice\n    };\n    const props_effect = {\n      name: 'file',\n      headers: {\n        authorization: 'authorization-text'\n      },\n      onChange: this.handleChange_effect_voice\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"size-web\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cov-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hmenu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icon-back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/setting\",\n      className: \"link-back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: ['fas', 'less-than'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 74\n      }\n    }))), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"hd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 29\n      }\n    }, \"Sound\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"set-sound\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"master-volume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 33\n      }\n    }, \"Master Volume\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-volume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"volume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Slider, {\n      tipFormatter: null,\n      min: 0,\n      max: 10,\n      onChange: this.onChange,\n      value: typeof inputValue === 'number' ? inputValue : 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"num\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(InputNumber, {\n      min: 0,\n      max: 10,\n      value: inputValue,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"voice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 33\n      }\n    }, \"Voice\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cov-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 45\n      }\n    }, \"Thai\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Upload, Object.assign({}, props_voice, {\n      fileList: this.state.fileList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 49\n      }\n    }, \"Upload\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sound-effect\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 33\n      }\n    }, \"Sound Effect\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cov-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 45\n      }\n    }, \"Bell\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Upload, Object.assign({}, props_effect, {\n      fileList: this.state.fileList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 49\n      }\n    }, \"Upload\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"voice-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 33\n      }\n    }, \"Voice feedback\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"boxsetfeed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"switchset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      className: \"switcho\",\n      defaultChecked: true,\n      checked: this.state.statusSound,\n      onChange: e => this.onChangevoice(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 41\n      }\n    }))))))));\n  }\n\n}\n\nexport default Sound;","map":{"version":3,"sources":["/home/recognition/Desktop/face-recognition-web-backend-and-iot/frontend/src/components/Setting/Sound.jsx"],"names":["React","FontAwesomeIcon","library","fas","far","Slider","InputNumber","Upload","message","Button","Switch","selectStatusSound","setStatusSound","uploadVoiceFile","uploadVoiceEffect","getVoiceMaster","setVoiceMaster","add","Sound","Component","constructor","props","onChange","value","setState","inputValue","then","_welcomeWord","data","status","success","content","className","style","marginTop","error","catch","_StatusFaceError","console","handleChange_effect_voice","info","file","loading","setTimeout","isLt2M","size","type","log","originFileObj","soundEffect","res","soundEffects","state","handleChange_voice","soundFile","soundVoice","loading_page","statusSound","undefined","componentDidMount","_Sound","msg","_DisplayError","window","location","href","_SoundMaster","errorVoice","onChangevoice","checked","_statusSound","render","props_voice","name","headers","authorization","props_effect","fileList","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nimport { Slider, InputNumber, Upload, message, Button, Switch } from 'antd';\nimport 'antd/dist/antd.css';\nimport './sound.scss'\nimport {selectStatusSound, setStatusSound, uploadVoiceFile ,uploadVoiceEffect, getVoiceMaster, setVoiceMaster} from \"../../services/APIs/sound\"\n\n\nlibrary.add(fas)\n\n\n\nclass Sound extends React.Component {\n\n    constructor(props) {\n\n        super(props)\n        this.state = {\n            inputValue: 0,\n            loading: false,\n            loading_page: false,\n            statusSound: true,\n            soundFile:undefined,\n            soundEffect:undefined\n        }\n\n    }\n\n    componentDidMount() {\n        this.setState({\n            loading_page: true\n        })\n        // get data from mongodb\n        selectStatusSound()\n        .then(_Sound => {\n            // console.log(\"_Sound.data.msg:\",_Sound.data.msg[0].statusSound)\n            if (_Sound.data.status) {\n\n                setTimeout(() => {\n                    this.setState({\n                        loading_page: false\n                    })\n                }, 800);\n                this.setState({\n                    statusSound: _Sound.data.msg[0].statusSound,\n                })\n\n            }\n        })\n        .catch(_DisplayError => {\n            window.location.href = \"/password\";\n        })\n        // inputValue\n        getVoiceMaster()\n        .then(_SoundMaster => {\n            // console.log(\"_SoundMaster.data.msg[0]:\",_SoundMaster.data.msg)\n            // console.log(_SoundMaster.data);\n            if (_SoundMaster.data.status) {\n\n                setTimeout(() => {\n                    this.setState({\n                        loading_page: false\n                    })\n                }, 800);\n                this.setState({\n                    inputValue: _SoundMaster.data.msg,\n                })\n\n            }\n        })\n        .catch(errorVoice => {\n            // console.log(errorVoice[0])\n            window.location.href = \"/password\";\n        })\n\n        // print log status sound\n        // console.log(this.state.statusSound)\n    }\n\n    onChange = value => {\n        this.setState({\n            inputValue: value,\n        });\n\n        setVoiceMaster(value)\n        .then(_welcomeWord => {\n            if(_welcomeWord.data.status){\n                message.success({\n                    content: 'Done',\n                    className: 'message-done',\n                    style: {\n                        marginTop: '2vh',\n                    },\n                });\n            }else{\n                message.error({\n                    content: 'Please try again.',\n                    className: 'message-alert',\n                    style: {\n                        marginTop: '2vh',\n                    },\n                });\n            }\n        })\n        .catch(_StatusFaceError => console.error(_StatusFaceError))\n    };\n\n\n    handleChange_effect_voice = (info) =>{\n        if (info.file.status === 'uploading') {\n            this.setState({ loading: true });\n            return;\n        }\n\n        setTimeout(async () => {\n            const isLt2M = info.file.size / 1024 / 1024 < 2;\n            if (isLt2M && (info.file.type === 'audio/mpeg' || info.file.type === 'audio/x-wav')) {\n              info.file.status = 'done'\n            } else {\n              info.file.status = 'error'\n            }\n            if (info.file.status === \"done\") {\n              // Get this url from response in real world.\n              console.log('img----',info.file.originFileObj)\n              this.setState({\n                  loading: false,\n                  soundEffect:info.file.originFileObj\n              })\n              \n              const res = await uploadVoiceEffect({\n                  soundEffects:this.state.soundEffect\n              })\n              console.log('res---> ', res)\n              if(res.data.status){\n                  message.success({\n                      content: 'Done',\n                      className: 'message-done',\n                      style: {\n                          marginTop: '2vh',\n                      },\n                  });\n                  \n              }else{\n                  message.error({\n                      content: 'Please try again.',\n                      className: 'message-alert',\n                      style: {\n                          marginTop: '2vh',\n                      },\n                  });\n              }\n            }\n          }, 1000) \n    }\n\n\n    handleChange_voice = (info) => {\n        if (info.file.status === 'uploading') {\n            this.setState({ loading: true });\n            return;\n        }\n\n        setTimeout(async () => {\n          const isLt2M = info.file.size / 1024 / 1024 < 2;\n          if (isLt2M && (info.file.type === 'audio/mpeg' || info.file.type === 'audio/x-wav')) {\n            info.file.status = 'done'\n          } else {\n            info.file.status = 'error'\n          }\n          if (info.file.status === \"done\") {\n            // Get this url from response in real world.\n            console.log('img----',info.file.originFileObj)\n            this.setState({\n                loading: false,\n                soundFile:info.file.originFileObj\n            })\n            \n            const res = await uploadVoiceFile({\n                soundVoice:this.state.soundFile\n            })\n            console.log('res---> ', res)\n            if(res.data.status){\n                message.success({\n                    content: 'Done',\n                    className: 'message-done',\n                    style: {\n                        marginTop: '2vh',\n                    },\n                });\n                \n            }else{\n                message.error({\n                    content: 'Please try again.',\n                    className: 'message-alert',\n                    style: {\n                        marginTop: '2vh',\n                    },\n                });\n            }\n          }\n        }, 1000)    \n    }\n\n\n    onChangevoice(checked) {\n        // console.log(`switch to ${checked}`);\n        this.setState({\n            statusSound:checked\n        })\n\n        setStatusSound(checked)\n        .then(_statusSound => {\n            if(_statusSound.data.status){\n                message.success({\n                    content: 'Done',\n                    className: 'message-done',\n                    style: {\n                        marginTop: '2vh',\n                    },\n                });\n            }else{\n                message.error({\n                    content: 'Please try again.',\n                    className: 'message-alert',\n                    style: {\n                        marginTop: '2vh',\n                    },\n                });\n            }\n        })\n        .catch(_StatusFaceError => console.error(_StatusFaceError))\n    }\n\n\n    render() {\n\n        // console.log(this.state.statusSound)\n        console.log(this.state.inputValue);\n\n        const { inputValue } = this.state;\n\n\n\n        const props_voice = {\n            name: 'file',\n            headers: {\n                authorization: 'authorization-text',\n            },\n            onChange: this.handleChange_voice,\n\n        };\n\n        const props_effect = {\n            name: 'file',\n            headers: {\n                authorization: 'authorization-text',\n            },\n            onChange: this.handleChange_effect_voice,\n        };\n\n        return (\n            <div>\n                <div className=\"size-web\">\n                    <div className=\"cov-menu\">\n                        <div className=\"hmenu\">\n                            <div className=\"icon-back\">\n                                <a href=\"/setting\" className=\"link-back\"><FontAwesomeIcon icon={['fas', 'less-than']} /></a>\n                            </div>\n                            <h1 className=\"hd\">Sound</h1>\n                        </div>\n                        <div className=\"set-sound\">\n                            <div className=\"master-volume\">\n                                <p className=\"name\">Master Volume</p>\n                                <div className=\"box-volume\">\n                                    <div className=\"volume\">\n                                        <div className=\"slide\">\n                                            <Slider\n                                                tipFormatter={null}\n                                                min={0}\n                                                max={10}\n                                                onChange={this.onChange}\n                                                value={typeof inputValue === 'number' ? inputValue : 0}\n                                            /></div>\n                                    </div>\n                                    <div className=\"num\">\n                                        <InputNumber\n                                            min={0}\n                                            max={10}\n                                            value={inputValue}\n                                            onChange={this.onChange}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"voice\">\n                                <p className=\"name\">Voice</p>\n                                <div className=\"box-upload\">\n                                    <div className=\"cov-upload\">\n                                        <div className=\"name-file\">\n                                            <p className=\"name\">Thai</p>\n                                        </div>\n                                        <div className=\"btn-up\">\n                                            <Upload {...props_voice} fileList={this.state.fileList}>\n                                                <Button>Upload</Button>\n                                            </Upload>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"sound-effect\">\n                                <p className=\"name\">Sound Effect</p>\n                                <div className=\"box-upload\">\n                                    <div className=\"cov-upload\">\n                                        <div className=\"name-file\">\n                                            <p className=\"name\">Bell</p>\n                                        </div>\n                                        <div className=\"btn-up\">\n                                            <Upload {...props_effect} fileList={this.state.fileList}>\n                                                <Button>Upload</Button>\n                                            </Upload>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"voice-feedback\">\n                                <p className=\"name\">Voice feedback</p>\n                                <div className=\"boxsetfeed\">\n                                    <div className=\"switchset\">\n                                        <Switch className=\"switcho\" defaultChecked checked={this.state.statusSound} onChange={(e) => this.onChangevoice(e)} />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n\n    }\n\n\n\n}\n\nexport default Sound"]},"metadata":{},"sourceType":"module"}